# Тестовое задание на стажировку avito-tech 2023
Cервис, хранящий пользователя и сегменты, в которых он состоит (создание, изменение, удаление сегментов, а также добавление и удаление пользователей в сегмент). Имеется возможность создания csv отчетов, добавления сегментов для пользователя на ограниченное время и автоматическое добавление сегментов проценту пользователей.

---
Библиотеки и технологии:
- PostgreSQL (хранилище)
- pgx (драйвер базы данных)
- golang-migrate (миграции базы данных)
- viper (конфигурация)
- chi-router (роутер)
- swaggo (создание документации)
- zap (логирование)
- docker (деплой)
- asynq (очередь отложенных задач)


# Локальный запуск

1. Клонирование проекта
```
git clone https://github.com/dezzerlol/avitotech-test-2023.git
```
2. Запуск сервиса, базы данных и автоматическая миграция
```
make compose
```

*.env файл с необходимыми переменными оставлен в корне проекта*

Документация доступна по ссылке `http://localhost:8080/swagger/index.html#/`

# Примеры запросов